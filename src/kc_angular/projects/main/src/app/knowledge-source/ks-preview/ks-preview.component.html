<!--Copyright 2021 Rob Royce-->

<!--Licensed under the Apache License, Version 2.0 (the "License");-->
<!--you may not use this file except in compliance with the License.-->
<!--You may obtain a copy of the License at-->

<!--http://www.apache.org/licenses/LICENSE-2.0-->

<!--Unless required by applicable law or agreed to in writing, software-->
<!--distributed under the License is distributed on an "AS IS" BASIS,-->
<!--WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.-->
<!--See the License for the specific language governing permissions and-->
<!--limitations under the License.-->


<div class="ks-preview-viewport">
  <div class="ks-preview-body" [ngStyle]="{'background-color' : backgroundColor}">
    <!--    WEB VIEWER BEGINS HERE -->
<!--        <ks-lib-browser-view -->
<!--          (onIpcResponse)="onIpcResponse($event)" -->
<!--          (viewReady)="setViewReady($event)" -->
<!--          *ngIf="url" -->
<!--          (navEvent)="onBrowserViewNavEvent($event)" -->
<!--          [url]="url"-->
<!--        ></ks-lib-browser-view>-->

    <ks-lib-browser-view
      (clickEvent)="onBrowserViewClickEvent($event)"
      (navEvent)="onBrowserViewNavEvent($event)"
      (viewReady)="setViewReady($event)"
      [kcBrowserViewConfig]="browserViewConfig"
      *ngIf="browserViewConfig"
    ></ks-lib-browser-view>

    <!--    WEB VIEWER ENDS HERE -->

    <!--    FILE VIEWER BEGINS HERE -->
    <ks-lib-file-view (clickEvent)="onFileViewClickEvent($event)"
                      (viewReady)="setViewReady($event)"
                      [config]="fileViewConfig"
                      *ngIf="fileViewConfig">
    </ks-lib-file-view>
    <!--    FILE VIEWER ENDS HERE -->
  </div>

  <div class="ks-preview-footer">
    <mat-progress-bar *ngIf="!viewReady" mode="indeterminate" style="width: 100%" id="progress-bar"></mat-progress-bar>
  </div>
</div>
