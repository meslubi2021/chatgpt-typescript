<div class="project-overview-container">

  <div class="project-overview-header">
    <!--    <mat-icon style="margin-right:16px">{{getProjectIcon()}}</mat-icon>-->
    <h2>{{currentProject.name}}</h2>
  </div>

  <div class="project-summary-container">
    <div class="container">

      <div class="ks-info-controls">
        <button mat-icon-button (click)="openAll()">
          <mat-icon>
            unfold_more
          </mat-icon>
        </button>
        <button mat-icon-button (click)="closeAll()">
          <mat-icon>
            unfold_less
          </mat-icon>
        </button>
      </div>

      <div class="project-accordion-container">
        <mat-accordion #accordion="matAccordion" [multi]="true" togglePosition="after" class="ks-details-accordion">
          <!--        TODO: implement notes features (add a note, delete a note, etc)-->

          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Description</mat-panel-title>
              <mat-panel-description></mat-panel-description>
              <div class="mat-panel-body">
                <ng-template matExpansionPanelContent>
                  <mat-form-field style="width: 100%" (focusout)="setDescription()">
                    <mat-label>Description</mat-label>
                    <textarea placeholder="Enter or Edit Description..."
                              [matTextareaAutosize]="true"
                              [(ngModel)]="currentProject.description"
                              cdkAutosizeMinRows="5"
                              matInput></textarea>
                  </mat-form-field>
                </ng-template>
              </div>
            </mat-expansion-panel-header>
          </mat-expansion-panel>

          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Topics</mat-panel-title>
              <mat-panel-description></mat-panel-description>
              <div class="mat-panel-body">
                <ng-template matExpansionPanelContent>
                  <app-project-topic-list [sourceRef]="'app-project-summary'"></app-project-topic-list>
                </ng-template>
              </div>
            </mat-expansion-panel-header>
          </mat-expansion-panel>

          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Notes</mat-panel-title>
              <mat-panel-description></mat-panel-description>
              <div class="mat-panel-body">
                <ng-template matExpansionPanelContent>
                  <mat-form-field style="width: 100%" (focusout)="setNotes()">
              <textarea placeholder="Enter or Edit a Note..."
                        [matTextareaAutosize]="true"
                        [(ngModel)]="currentProject.notes"
                        cdkAutosizeMinRows="4"
                        matInput></textarea>
                  </mat-form-field>
                </ng-template>
              </div>
            </mat-expansion-panel-header>
          </mat-expansion-panel>

          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Calendar</mat-panel-title>
              <mat-panel-description></mat-panel-description>
              <div class="mat-panel-body">
                <ng-template matExpansionPanelContent>
                  <app-project-calendar [calendar]="currentProject.calendar" (start)="calStart($event)" (end)="calEnd($event)"></app-project-calendar>
                </ng-template>
              </div>
            </mat-expansion-panel-header>
          </mat-expansion-panel>

          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Timeline</mat-panel-title>
              <mat-panel-description></mat-panel-description>
              <div class="mat-panel-body">
                <ng-template matExpansionPanelContent>
                  <div class="row">
                    <div class="col s12">
                      <b>Changed:</b>  {{currentProject.dateModified}}
                    </div>
                  </div>
                  <div class="row">
                    <div class="col s12">
                      <b>Created:</b>   {{currentProject.dateCreated}}
                    </div>
                  </div>
                </ng-template>
              </div>
            </mat-expansion-panel-header>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
    </div>

  </div>
</div>
